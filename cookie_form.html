<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Order Your Cookie Please!</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Pacifico&display=swap"
        rel="stylesheet"
    />
    <!-- Include EmailJS Library -->
    <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            emailjs.init("5yJynLEvx8xStr2il"); // Your Public API Key
        })();
    </script>
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="logo.PNG.png" alt="Cookies for Kicks Logo" class="rotating-logo" />
        </div>
        <h1>Order Your Cookie</h1>
        <p>Please fill in your details, and we'll get back to you soon!</p>
    </header>
    <section class="form-section">
        <form id="orderForm" class="order-form">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" placeholder="Your Name" required />

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" placeholder="Your Email" required />

            <label for="address">Address:</label>
            <input type="text" id="address" name="address" placeholder="Your Address" required />

            <label for="cookie-type">Cookie Type:</label>
            <select id="cookie-type" name="cookie_type" required>
                <option value="chocolate_chip">Chocolate Chip Cookie</option>
                <option value="peanut_butter">Peanut Butter Cookie</option>
                <option value="jam_drop">Jam Drop Cookie</option>
            </select>

            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity" name="quantity" placeholder="Number of Cookies" min="1" required />

            <button type="submit">Submit Order</button>
        </form>
    </section>
    <footer>
        <p>
            &copy; 2024 Cookies for Kicks. All rights reserved (for legal purposes this is a joke).
        </p>
    </footer>

    <script>
        document.getElementById("orderForm").addEventListener("submit", function (event) {
            event.preventDefault();

            // Collect form data
            const formData = new FormData(this);

            // Prepare EmailJS parameters
            const emailParams = {
                name: formData.get("name"),
                email: formData.get("email"),
                address: formData.get("address"),
                cookie_type: formData.get("cookie_type"),
                quantity: formData.get("quantity"),
            };

            // Send email using EmailJS
            emailjs.send("service_hjj5aob", "template_n8d9env", emailParams)
                .then((response) => {
                    alert("Your order has been placed successfully!");
                    console.log("SUCCESS!", response.status, response.text);
                })
                .catch((error) => {
                    alert("Failed to send order. Please try again.");
                    console.error("FAILED...", error);
                });
        });
    </script>
</body>
</html>
